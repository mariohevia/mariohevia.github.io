<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>OpenCV Crash Course with Python | Dr. Mario Hevia Fajardo</title> <meta name="author" content="Mario A. Hevia Fajardo"> <meta name="description" content="A hands-on guide to computer vision using OpenCV in Python. I cover the core image and video processing functions available in OpenCV, with plenty of working code examples."> <meta name="keywords" content="evolutionary-computation, evolutionary-algorithms, runtime-analysis, research, theory"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/icon.png"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://mariohevia.github.io/blog/2025/open-cv-tutorial-example-project/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "OpenCV Crash Course with Python",
      "description": "A hands-on guide to computer vision using OpenCV in Python. I cover the core image and video processing functions available in OpenCV, with plenty of working code examples.",
      "published": "April 24, 2025",
      "authors": [
        {
          "author": "Mario A. Hevia Fajardo",
          "authorURL": "https://mhevia.com",
          "affiliations": [
            {
              "name": "Unaffiliated",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Dr. Mario Hevia Fajardo</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right font-weight-bold" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">Home</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>OpenCV Crash Course with Python</h1> <p>A hands-on guide to computer vision using OpenCV in Python. I cover the core image and video processing functions available in OpenCV, with plenty of working code examples.</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#installing-opencv">Installing OpenCV</a></div> <div><a href="#reading-and-displaying-images">Reading and Displaying Images</a></div> <div><a href="#reading-and-displaying-video">Reading and Displaying Video</a></div> <div><a href="#rescaling-images-frames">Rescaling Images/Frames</a></div> <div><a href="#drawing-on-images">Drawing on Images</a></div> <div><a href="#image-translation-rotation-and-flipping">Image Translation, Rotation, and Flipping</a></div> <div><a href="#converting-colour-spaces">Converting Colour Spaces</a></div> <div><a href="#smoothing-and-blurring">Smoothing and Blurring</a></div> <div><a href="#thresholding">Thresholding</a></div> <div><a href="#masking">Masking</a></div> <div><a href="#conclusion">Conclusion</a></div> </nav> </d-contents> <p>At the start of my PhD, I did a bit of Python tutoring for undergrads. Over Easter break, while cleaning out my computer, I stumbled across some old Jupyter notebooks I’d put together for those sessions, covering basic Python, object-oriented programming, and some hands-on work with the OpenCV library. I was about to delete them, but figured, why not turn them into something useful?</p> <p>So here we are. This post is a walkthrough of my introductory OpenCV crash course. I’ll show you how to read and display media, apply basic transformations, and a few other simple things. If you want to follow along the blog you can download the code and resources <a href="https://github.com/mariohevia/open_cv_tutorial" rel="external nofollow noopener" target="_blank">here</a>.</p> <h3 id="installing-opencv">Installing OpenCV</h3> <p>The first thing we need to do is install OpenCV and all the libraries we will use in this course. As always, I recommend creating a new environment first and installing everything inside it. Use the following commands to install the packages:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>uv venv envOpenCV
<span class="nb">source </span>envOpenCV/bin/activate
uv pip <span class="nb">install </span>notebook opencv-python matplotlib
</code></pre></div></div> <p>If you are not familiar with <code class="language-plaintext highlighter-rouge">uv</code> or don’t use it, you can install the packages with this instead:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python <span class="nt">-m</span> venv envOpenCV
<span class="nb">source </span>envOpenCV/bin/activate
pip <span class="nb">install </span>notebook opencv-python matplotlib
</code></pre></div></div> <p>If you plan to dive deeper into the OpenCV library, it might be worth installing <code class="language-plaintext highlighter-rouge">opencv-contrib-python</code> instead, which includes extra features.</p> <h3 id="reading-and-displaying-images">Reading and Displaying Images</h3> <p>Let’s start by loading an image from disk and displaying it. OpenCV comes with a simple <code class="language-plaintext highlighter-rouge">imread()</code> function that takes a path and loads the image as a NumPy array.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">cv2</span> <span class="k">as</span> <span class="n">cv</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">from</span> <span class="n">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">cat</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cat.jpg</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>Once loaded, you can display the image using OpenCV’s window system:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="sh">'</span><span class="s">Cat</span><span class="sh">'</span><span class="p">,</span> <span class="n">cat</span><span class="p">)</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">waitKey(0)</code> call keeps the image open until any key is pressed and <code class="language-plaintext highlighter-rouge">cv.destroyAllWindows()</code> closes the windows afterwards.</p> <p>If you prefer (as me) to use <code class="language-plaintext highlighter-rouge">matplotlib</code> to display the image, you first need to transform the image from BGR to RGB, because OpenCV loads them in BGR and <code class="language-plaintext highlighter-rouge">matplotlib</code> expects it in RGB. Here we display both RGB and BGR to show this.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rgb_cat</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">rgb_cat</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/cat_rgb_bgr.png" alt="Display matplotlib RGB vs BGR" style="max-width: 75%; height: auto;"></p> <p>Another thing to keep in mind: when you open large images in OpenCV, they won’t automatically resize to fit your screen. In contrast, Matplotlib does scale the image to fit the figure size when you use <code class="language-plaintext highlighter-rouge">plt.imshow()</code>, but this is just for display purposes. The image itself doesn’t change (you can confirm this by checking the axes, which reflect the original size).</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cat_large</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cat_large.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">rgb_cat_large</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">cat_large</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span> <span class="c1"># You could also use this function to change it to black and white
</span><span class="n">plt</span><span class="p">.</span><span class="nf">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">'</span><span class="s">Small</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">rgb_cat</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">title</span><span class="p">(</span><span class="sh">'</span><span class="s">Large</span><span class="sh">'</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="n">rgb_cat_large</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/cat_small_large.png" alt="Display matplotlib small vs large" style="max-width: 75%; height: auto;"></p> <h3 id="reading-and-displaying-video">Reading and Displaying Video</h3> <p>To read video, use OpenCV’s <code class="language-plaintext highlighter-rouge">VideoCapture</code> object:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">capture</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nc">VideoCapture</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Videos/dog.mp4</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># Check if the video opened successfully
</span><span class="k">if</span> <span class="ow">not</span> <span class="n">capture</span><span class="p">.</span><span class="nf">isOpened</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Error: Could not open video.</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># Read the frames per second
</span><span class="n">fps</span> <span class="o">=</span> <span class="nf">round</span><span class="p">(</span><span class="n">capture</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">cv</span><span class="p">.</span><span class="n">CAP_PROP_FPS</span><span class="p">))</span>
</code></pre></div></div> <p>We loop through the video frame by frame using <code class="language-plaintext highlighter-rouge">.read()</code>. This function returns two values: the frame itself and a boolean that tells us whether the frame was successfully read (e.g., it will return False if we’ve reached the end of the video, the file didn’t load correctly, or the camera got disconnected).</p> <p>To control the playback speed, we use <code class="language-plaintext highlighter-rouge">cv.waitKey()</code>, which waits for a key press for <code class="language-plaintext highlighter-rouge">int(1000/fps)</code> milliseconds — enough to match the video’s original frame rate. It returns the ASCII value of the key pressed, or <code class="language-plaintext highlighter-rouge">-1</code> if no key was pressed during that time. If the key is <code class="language-plaintext highlighter-rouge">'q'</code>, we break the loop and stop the video.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">capture</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ret</span><span class="p">:</span>
        <span class="k">break</span>  <span class="c1"># End of video
</span>    <span class="c1"># Display frame as an image
</span>    <span class="n">cv</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="sh">'</span><span class="s">Video Frame</span><span class="sh">'</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
    <span class="c1"># Press 'q' to quit
</span>    <span class="k">if</span> <span class="n">cv</span><span class="p">.</span><span class="nf">waitKey</span><span class="p">(</span><span class="nf">int</span><span class="p">(</span><span class="mi">1000</span><span class="o">/</span><span class="n">fps</span><span class="p">))</span> <span class="o">&amp;</span> <span class="mh">0xFF</span> <span class="o">==</span> <span class="nf">ord</span><span class="p">(</span><span class="sh">'</span><span class="s">q</span><span class="sh">'</span><span class="p">):</span>
        <span class="k">break</span>

<span class="c1"># Release resources
</span><span class="n">capture</span><span class="p">.</span><span class="nf">release</span><span class="p">()</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div> <p>Similarly, we can pull in video from a webcam:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">capture</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nc">VideoCapture</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">ret</span><span class="p">,</span> <span class="n">frame</span> <span class="o">=</span> <span class="n">capture</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">ret</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">cv</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="sh">'</span><span class="s">Webcam</span><span class="sh">'</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">cv</span><span class="p">.</span><span class="nf">waitKey</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFF</span> <span class="o">==</span> <span class="nf">ord</span><span class="p">(</span><span class="sh">'</span><span class="s">q</span><span class="sh">'</span><span class="p">):</span>
        <span class="k">break</span>

<span class="n">capture</span><span class="p">.</span><span class="nf">release</span><span class="p">()</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div> <h3 id="rescaling-imagesframes">Rescaling Images/Frames</h3> <p>Sometimes you need to resize your image or video is way too big. Here’s how to rescale it.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">rescaleImage</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>
    <span class="n">new_dimensions</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nf">int</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">),</span>
        <span class="nf">int</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">scale</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">cv</span><span class="p">.</span><span class="nf">resize</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">new_dimensions</span><span class="p">,</span> <span class="n">interpolation</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="n">INTER_AREA</span><span class="p">)</span>
</code></pre></div></div> <p>And use it like this:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rescaled_cat</span> <span class="o">=</span> <span class="nf">rescaleImage</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">imshow</span><span class="p">(</span><span class="sh">'</span><span class="s">Cat</span><span class="sh">'</span><span class="p">,</span> <span class="n">rescaled_cat</span><span class="p">)</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">destroyAllWindows</span><span class="p">()</span>
</code></pre></div></div> <p>Keep in mind that we can use the same function for videos.</p> <h3 id="drawing-on-images">Drawing on Images</h3> <p>An image is essentially just a 3D array: width, height, and colour channels. As I mentioned before, in OpenCV, colours are ordered as BGR, while matplotlib uses RGB. To create a black image, we can simply use NumPy to generate an array filled with zeroes.</p> <p>In the code we use the 8-bit unsigned integer (uint8) data type, which allows values from 0 to 255 for each colour. Other common data types include ‘uint16’ (with a range from 0 to 65535) and ‘float32’ (with values between 0.0 and 1.0).</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">black_img</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="sh">'</span><span class="s">uint8</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <p>We can also manipulate the array values to change the colour of the image directly.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">red_img</span> <span class="o">=</span> <span class="n">black_img</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
<span class="n">red_img</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># Since we are displaying the images with matplotlib the first value corresponds to red
</span><span class="n">green_img</span> <span class="o">=</span> <span class="n">black_img</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
<span class="n">green_img</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">blue_img</span> <span class="o">=</span> <span class="n">black_img</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
<span class="n">blue_img</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/black_red_green_blue.png" alt="Display colour images created with numpy" style="max-width: 75%; height: auto;"></p> <p>We can also create a rectangle (or any shape) only using numpy.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">shapes_img</span> <span class="o">=</span> <span class="n">black_img</span><span class="p">.</span><span class="nf">copy</span><span class="p">()</span>
<span class="n">shapes_img</span><span class="p">[</span><span class="mi">200</span><span class="p">:</span><span class="mi">300</span><span class="p">,</span><span class="mi">400</span><span class="p">:</span><span class="mi">450</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/green_rectangle.png" alt="Image with rectangle numpy" style="max-width: 75%; height: auto;"></p> <p>But OpenCV has functions that do this in a simpler way. You can also add text</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cv</span><span class="p">.</span><span class="nf">rectangle</span><span class="p">(</span><span class="n">shapes_img</span><span class="p">,(</span><span class="mi">380</span><span class="p">,</span><span class="mi">50</span><span class="p">),(</span><span class="mi">410</span><span class="p">,</span><span class="mi">130</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># Green rectangle with thickness 3
</span><span class="n">cv</span><span class="p">.</span><span class="nf">line</span><span class="p">(</span><span class="n">shapes_img</span><span class="p">,(</span><span class="mi">380</span><span class="p">,</span><span class="mi">50</span><span class="p">),(</span><span class="mi">410</span><span class="p">,</span><span class="mi">130</span><span class="p">),(</span><span class="mi">255</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Red line with thickness 5
</span><span class="n">cv</span><span class="p">.</span><span class="nf">circle</span><span class="p">(</span><span class="n">shapes_img</span><span class="p">,(</span><span class="mi">120</span><span class="p">,</span><span class="mi">300</span><span class="p">),</span> <span class="mi">60</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span> <span class="n">cv</span><span class="p">.</span><span class="n">FILLED</span><span class="p">)</span> <span class="c1"># Blue filled circle
</span><span class="n">font</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="n">FONT_HERSHEY_SIMPLEX</span>
<span class="n">cv</span><span class="p">.</span><span class="nf">putText</span><span class="p">(</span><span class="n">shapes_img</span><span class="p">,</span><span class="sh">'</span><span class="s">Sample text</span><span class="sh">'</span><span class="p">,(</span><span class="mi">25</span><span class="p">,</span><span class="mi">475</span><span class="p">),</span> <span class="n">font</span><span class="p">,</span> <span class="mi">2</span><span class="p">,(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">),</span><span class="mi">2</span><span class="p">,</span><span class="n">cv</span><span class="p">.</span><span class="n">LINE_AA</span><span class="p">)</span> <span class="c1"># White text
</span></code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/shapes_opencv.png" alt="Image with shapes OpenCV" style="max-width: 75%; height: auto;"></p> <h3 id="image-translation-rotation-and-flipping">Image Translation, Rotation, and Flipping</h3> <p>Using OpenCV, basic image transformations are straightforward to implement. Just keep in mind that some of these transformations can be destructive, that is, you might lose information from the original image in the process.</p> <h4 id="translation-move">Translation (move)</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/park.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="n">transMat</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">float32</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="p">]])</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">cv</span><span class="p">.</span><span class="nf">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">transMat</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">)</span>

<span class="n">translated</span> <span class="o">=</span> <span class="nf">translate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/park_translation.png" alt="Translation" style="max-width: 100%; height: auto;"></p> <h4 id="rotation">Rotation</h4> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">rotPoint</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="p">(</span><span class="n">height</span><span class="p">,</span><span class="n">width</span><span class="p">)</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">rotPoint</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">rotPoint</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span><span class="n">height</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">rotMat</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">getRotationMatrix2D</span><span class="p">(</span><span class="n">rotPoint</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cv</span><span class="p">.</span><span class="nf">warpAffine</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">rotMat</span><span class="p">,</span> <span class="n">dimensions</span><span class="p">)</span>

<span class="n">rotated</span> <span class="o">=</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">-</span><span class="mi">45</span><span class="p">)</span>
<span class="n">rotated_rotated</span> <span class="o">=</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">rotated</span><span class="p">,</span> <span class="o">-</span><span class="mi">45</span><span class="p">)</span>
</code></pre></div></div> <p>Note that in the second rotation, some parts of the image are lost. If you would want to keep as much information as possible you could rotate the original image by <code class="language-plaintext highlighter-rouge">-90</code> degrees instead of rotating the rotated image.</p> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/park_rotation.png" alt="Rotated" style="max-width: 100%; height: auto;"></p> <h4 id="flipping">Flipping</h4> <p>Flipping an image in OpenCV is done with <code class="language-plaintext highlighter-rouge">cv.flip()</code>, where the second argument specifies the direction: <code class="language-plaintext highlighter-rouge">0</code> for vertical flip, <code class="language-plaintext highlighter-rouge">1</code> for horizontal, and <code class="language-plaintext highlighter-rouge">-1</code> for both simultaneously.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">flip</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">mirrored</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">flip</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/park_flip.png" alt="Flipped and mirrored" style="max-width: 100%; height: auto;"></p> <h4 id="cropping">Cropping</h4> <p>Since the image is an array we can also crop it as you would an array.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cropped</span> <span class="o">=</span> <span class="n">img</span><span class="p">[</span><span class="mi">200</span><span class="p">:</span><span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">:</span><span class="mi">400</span><span class="p">]</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/park_crop.png" alt="Croped" style="max-width: 100%; height: auto;"></p> <h3 id="converting-colour-spaces">Converting Colour Spaces</h3> <p>As we have seen before, OpenCV loads images in the BGR colour space by default. However, in some cases, it’s useful to convert the image to a different colour space depending on what you’re trying to do. This can be done with the <code class="language-plaintext highlighter-rouge">cv.cvtColor</code> function.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">cat</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cat.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">rgb</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
<span class="n">gray</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
<span class="n">lab</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2LAB</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/colour_spaces.png" alt="Colour Spaces" style="max-width: 100%; height: auto;"></p> <h3 id="smoothing-and-blurring">Smoothing and Blurring</h3> <p>Smoothing or blurring an image is a common preprocessing step in computer vision to reduce noise or detail. Most blurring functions in OpenCV work by applying a kernel — a small matrix that moves over the image and combines pixel values in a neighborhood. The size of the kernel (like <code class="language-plaintext highlighter-rouge">(11,11)</code>) defines how many surrounding pixels influence the result. Larger kernels produce stronger blurs but can also remove more detail. Different functions apply different strategies: simple averaging, Gaussian-weighted smoothing, median filtering, or edge-preserving bilateral filtering.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cats.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>

<span class="n">average</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">blur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="n">gauss</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nc">GaussianBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">median</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">medianBlur</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="n">bilateral</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">bilateralFilter</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/cats_blur.png" alt="Blurring" style="max-width: 100%; height: auto;"></p> <h3 id="thresholding">Thresholding</h3> <p>Thresholding is a technique used in image processing to segment an image into different regions based on pixel intensity values. It is particularly useful in converting a grayscale image into a binary image. The image is divided into two classes: foreground and background. Thresholding helps to highlight objects or features of interest while discarding irrelevant information.</p> <p>In simple thresholding, a fixed threshold value is chosen, and pixels in the image are classified as foreground or background based on their intensity value relative to this threshold.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cats.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">gray</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>

<span class="c1"># Simple Thresholding
</span><span class="n">threshold</span><span class="p">,</span> <span class="n">thresh</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">threshold</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">THRESH_BINARY</span> <span class="p">)</span>
<span class="n">threshold</span><span class="p">,</span> <span class="n">thresh_inv</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">threshold</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">THRESH_BINARY_INV</span> <span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/simple_thresholding.png" alt="Thresholding" style="max-width: 100%; height: auto;"></p> <p>Adaptive thresholding instead calculates a different threshold for each pixel based on its local neighborhood.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">adaptive_thresh_mean</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">adaptiveThreshold</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">ADAPTIVE_THRESH_MEAN_C</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">THRESH_BINARY</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">adaptive_thresh_gauss</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">adaptiveThreshold</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">ADAPTIVE_THRESH_GAUSSIAN_C</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">THRESH_BINARY</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/adaptive_thresholding.png" alt="Adaptive Thresholding" style="max-width: 100%; height: auto;"></p> <h3 id="masking">Masking</h3> <p>The final thing that we will check is masking. The concept is simple, where a mask (a binary image) is used to isolate or highlight specific regions of interest in an image. In this case, we create a mask with shapes such as circles and rectangles and then combine them. By using bitwise operations, such as <code class="language-plaintext highlighter-rouge">cv.bitwise_and()</code>, we apply the mask to the original image, resulting in an image where only the masked areas are visible, and everything else is set to black (or transparent). This technique is often used in image segmentation, object detection, and background removal.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">imread</span><span class="p">(</span><span class="sh">'</span><span class="s">Resources/Photos/cats 2.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">cvtColor</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">cv</span><span class="p">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>

<span class="c1"># Create blank mask
</span><span class="n">blank</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">zeros</span><span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="sh">'</span><span class="s">uint8</span><span class="sh">'</span><span class="p">)</span>
<span class="c1"># Circle mask
</span><span class="n">circle</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">circle</span><span class="p">(</span><span class="n">blank</span><span class="p">.</span><span class="nf">copy</span><span class="p">(),</span> <span class="p">(</span><span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">45</span><span class="p">,</span> <span class="n">img</span><span class="p">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">//</span><span class="mi">2</span><span class="p">),</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Rectangle mask
</span><span class="n">rectangle</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">rectangle</span><span class="p">(</span><span class="n">blank</span><span class="p">.</span><span class="nf">copy</span><span class="p">(),</span> <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">30</span><span class="p">),</span> <span class="p">(</span><span class="mi">370</span><span class="p">,</span> <span class="mi">370</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Combine masks
</span><span class="n">weird_shape</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">bitwise_and</span><span class="p">(</span><span class="n">circle</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">)</span>
<span class="c1"># Apply mask
</span><span class="n">masked</span> <span class="o">=</span> <span class="n">cv</span><span class="p">.</span><span class="nf">bitwise_and</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">img</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">weird_shape</span><span class="p">)</span>
</code></pre></div></div> <p style="text-align:center"><img src="../../../assets/img/blog_images/2025-04-24-open-cv-tutorial-example-project/masked_image.png" alt="Masked image" style="max-width: 100%; height: auto;"></p> <h3 id="conclusion">Conclusion</h3> <p>That’s pretty much everything I used to teach undergrads about OpenCV in Python. If you’re curious to explore a bit more, the Jupyter notebook includes an extra section on contour detection, but I decided to leave it out of the blog post to keep things from getting too long.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/"></d-bibliography> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2026 Mario A. Hevia Fajardo. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: February 03, 2026. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>